

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>WeIdentity JAVA SDK文档 &mdash; weidentity-java-sdk version 文档</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> weidentity-java-sdk
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://weidentity.readthedocs.io/zh_CN/latest/">首页</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/weidentity-installation.html">WeIdentity安装部署文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/weidentity-contract-design.html">WeIdentity智能合约设计文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/faq.html">Java SDK FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">weidentity-java-sdk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>WeIdentity JAVA SDK文档</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/weidentity-java-sdk-doc.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="weidentity-java-sdk">
<span id="weidentity-java-sdk-doc"></span><h1>WeIdentity JAVA SDK文档<a class="headerlink" href="#weidentity-java-sdk" title="永久链接至标题">¶</a></h1>
<div class="section" id="id1">
<h2>总体介绍<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h2>
<p>WeIdentity Java SDK提供了一整套对WeIdentity进行管理操作的Java库。目前，SDK支持本地密钥管理、数字身份标识（WeIdentity DID）管理、电子凭证（WeIdentity Credential）管理、授权机构（Authority Issuer）管理、CPT管理等功能，同时也提供基于FISCO-BCOS的区块链交互、智能合约的部署与调用。未来还将支持更丰富的功能和应用。</p>
</div>
<div class="section" id="id2">
<h2>术语<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>请参阅：<a class="reference external" href="https://weidentity.readthedocs.io/zh_CN/stable/docs/terminologies.html">术语表</a></li>
</ul>
</div>
<div class="section" id="sdk">
<h2>部署SDK<a class="headerlink" href="#sdk" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>请参阅：</li>
</ul>
<ul class="simple">
<li>开始使用之前，再次确认启动FISCO-BCOS节点已启动，确保端口可以访问。</li>
</ul>
</div>
<div class="section" id="id4">
<h2>整体过程快速上手<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<p>按照以下流程可以完整地体验本SDK的核心功能：</p>
<ol class="arabic simple">
<li>注册DID：通过WeIdService的createWeId()生成一个WeIdentity DID并注册到链上；</li>
<li>设置DID属性：分别调用WeIdService的set方法组，为此DID设置公钥、认证方式、服务端点等属性；</li>
<li>查询DID属性：调用WeIdService的getWeIdDocumentJson()查阅生成的WeIdentity DID数据；</li>
<li>注册授权机构：通过AuthorityIssuerService的registerAuthorityIssuer()把生成的WeIdentity DID注册成一个授权机构；</li>
<li>查询授权机构：调用AuthorityIssuerService的queryAuthorityIssuerInfo()查阅生成的授权机构数据；</li>
<li>注册CPT：通过CptService的registerCpt()，通过之前生成的WeIdentity DID身份创建一个你喜欢的CPT模板；</li>
<li>查询CPT：调用CptService的queryCpt()查阅生成的CPT模板；</li>
<li>生成凭证：通过CredentialService的CreateCredential()，根据CPT模板，生成一份Credential；</li>
<li>查询凭证：调用CredentialService的VerifyCredential()，验证此Credential是否合法。</li>
</ol>
<p>以上流程的简要版本可见demo/demoTest.java</p>
</div>
<div class="section" id="id5">
<h2>代码结构说明<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>├─ config：FISCO-BCOS的合约配置
├─ constant：系统常量相关
└─ contract：通过FISCO-BCOS Web3sdk生成的合约Java接口文件
   └─ deploy: 合约部署相关
└─ protocol：接口参数相关定义
   ├─ base: 基础数据类型定义
   ├─ request: 接口入参定义
   └─ response: 接口出参定义
├─ rpc：接口定义
├─ service：接口相关实现
└─ util：工具类实现
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h2>接口简介<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<p>整体上，WeIdentity Java SDK包括四个主要的类，它们分别是：AuthorityIssuerService、CptService、CredentialService、WeIdService。</p>
<ul class="simple">
<li>AuthorityIssuerService</li>
</ul>
<p>在WeIdentity的整体架构中，存在着可信的“授权机构”这一角色。一般来说，授权机构特指那些广为人知的、具有一定公信力的、并且有相对频繁签发Credential需求的实体。</p>
<p>本接口提供了对这类授权签发Credential的机构的注册、移除、查询信息等操作。</p>
<ul class="simple">
<li>CptService</li>
</ul>
<p>任何凭证的签发，都需要将数据转换成已经注册的CPT (Claim Protocol Type)格式规范，也就是所谓的“标准化格式化数据”。相关机构事先需要注册好CPT，在此之后，签发机构会根据CPT提供符合格式的数据，进而进行凭证的签发。</p>
<p>本接口提供了对CPT的注册、更新、查询等操作。</p>
<ul class="simple">
<li>CredentialService</li>
</ul>
<p>凭证签发相关功能的核心接口。</p>
<p>本接口提供凭证的签发和验证操作。</p>
<ul class="simple">
<li>WeIdService</li>
</ul>
<p>WeIdentity DID相关功能的核心接口。</p>
<p>本接口提供WeIdentity DID的创建、获取信息、设置属性等相关操作。</p>
</div>
<div class="section" id="id7">
<h2>接口时序图<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h2>
<p>详见：<a class="reference external" href="https://weidentity.readthedocs.io/zh_CN/stable/docs/weid-sequences.html">时序图</a></p>
</div>
<div class="section" id="id9">
<h2>接口列表<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h2>
<div class="section" id="authorityissuerservice">
<h3>AuthorityIssuerService<a class="headerlink" href="#authorityissuerservice" title="永久链接至标题">¶</a></h3>
<div class="section" id="registerauthorityissuer">
<h4>1. registerAuthorityIssuer<a class="headerlink" href="#registerauthorityissuer" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.AuthorityIssuerService.registerAuthorityIssuer
接口定义:ResponseData&lt;Boolean&gt; registerAuthorityIssuer(RegisterAuthorityIssuerArgs args)
接口详细描述: 注册新的授权发行机构。
注意：这是一个需要权限的操作，目前只有合约的部署者（一般为SDK）才能正确执行。
</pre></div>
</div>
<p><strong>接口入参</strong>: com.webank.weid.protocol.request.RegisterAuthorityIssuerArgs</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>authorityIssuer</td>
<td>AuthorityIssuer</td>
<td>Y</td>
<td>JavaBean</td>
<td>AuthorityIssuer信息，见下</td>
</tr>
<tr class="row-odd"><td>weIdPrivateKey</td>
<td>WeIdPrivateKey</td>
<td>Y</td>
<td>JavaBean</td>
<td>交易私钥，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.AuthorityIssuer</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>weId</td>
<td>String</td>
<td>Y</td>
<td>授权机构WeIdentity DID</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>name</td>
<td>String</td>
<td>Y</td>
<td>授权机构名称</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>createDate</td>
<td>Long</td>
<td>Y</td>
<td>创建日期</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>accValue</td>
<td>String</td>
<td>Y</td>
<td>授权方累积判定值</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.WeIdPrivateKey</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>privateKey</td>
<td>String</td>
<td>Y</td>
<td>私钥值</td>
<td>使用十进制数字表示</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:     com.webank.weid.protocol.response.ResponseData&lt;Boolean&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>Boolean</td>
<td>返回结果值</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_INVALID</td>
<td>100101</td>
<td>无效的WeIdentity DID</td>
</tr>
<tr class="row-even"><td>WEID_DOES_NOT_EXIST</td>
<td>100104</td>
<td>WeIdentity DID不存在</td>
</tr>
<tr class="row-odd"><td>AUTHORITY_ISSUER_ERROR</td>
<td>100200</td>
<td>授权标准异常</td>
</tr>
<tr class="row-even"><td>AUTHORITY_ISSUER_PRIVATE_KEY_ILLEGAL</td>
<td>100202</td>
<td>私钥格式非法</td>
</tr>
<tr class="row-odd"><td>AUTHORITY_ISSUER_ADDRESS_MISMATCH</td>
<td>100204</td>
<td>地址不匹配</td>
</tr>
<tr class="row-even"><td>AUTHORITY_ISSUER_OPCODE_MISMATCH</td>
<td>100205</td>
<td>操作码不匹配</td>
</tr>
<tr class="row-odd"><td>AUTHORITY_ISSUER_NAME_ILLEGAL</td>
<td>100206</td>
<td>名称格式非法</td>
</tr>
<tr class="row-even"><td>AUTHORITY_ISSUER_ACCVALUE_ILLEAGAL</td>
<td>100207</td>
<td>累计值格式非法</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-even"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
<tr class="row-odd"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
<tr class="row-even"><td>AUTHORITY_ISSUER_CONTRACT_ERROR_ALREADY_EXIST</td>
<td>500201</td>
<td>授权人已经存在</td>
</tr>
<tr class="row-odd"><td>AUTHORITY_ISSUER_CONTRACT_ERROR_NO_PERMISSION</td>
<td>500203</td>
<td>授权人没有权限</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">AuthorityIssuerService</span> <span class="n">authorityIssuerService</span><span class="o">;</span>
<span class="n">AuthorityIssuer</span> <span class="n">authorityIssuer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AuthorityIssuer</span><span class="o">();</span>
<span class="n">authorityIssuer</span><span class="o">.</span><span class="na">setWeId</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
<span class="n">authorityIssuer</span><span class="o">.</span><span class="na">setCreateDate</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">().</span><span class="na">getTime</span><span class="o">());</span>
<span class="n">authorityIssuer</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&quot;webank1&quot;</span><span class="o">);</span>
<span class="n">authorityIssuer</span><span class="o">.</span><span class="na">setAccValue</span><span class="o">(</span><span class="s">&quot;0&quot;</span><span class="o">);</span>
<span class="n">WeIdPrivateKey</span> <span class="n">weIdPrivateKey</span> <span class="o">=</span> <span class="k">new</span> <span class="n">WeIdPrivateKey</span><span class="o">();</span>
<span class="n">weIdPrivateKey</span><span class="o">.</span><span class="na">setPrivateKey</span><span class="o">(</span><span class="k">new</span> <span class="n">BigInteger</span><span class="o">(</span><span class="mi">1231232142</span><span class="o">).</span><span class="na">toString</span><span class="o">());</span>
<span class="n">RegisterAuthorityIssuerArgs</span> <span class="n">args</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RegisterAuthorityIssuerArgs</span><span class="o">();</span>
<span class="n">args</span><span class="o">.</span><span class="na">setAuthorityIssuer</span><span class="o">(</span><span class="n">authorityIssuer</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setWeIdPrivateKey</span><span class="o">(</span><span class="n">weIdPrivateKey</span><span class="o">);</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">authorityIssuerService</span><span class="o">.</span><span class="na">registerAuthorityIssuer</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回结果如：
result: true
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="removeauthorityissuer">
<h4>2. removeAuthorityIssuer<a class="headerlink" href="#removeauthorityissuer" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.AuthorityIssuerService.removeAuthorityIssuer
接口定义:ResponseData&lt;Boolean&gt; removeAuthorityIssuer(String weId)
接口详细描述: 根据WeID注销授权机构。
注意：这是一个需要权限的操作，目前只有合约的部署者（一般为SDK）才能正确执行。
</pre></div>
</div>
<p><strong>接口入参</strong>:  com.webank.weid.protocol.request.RemoveAuthorityIssuerArgs</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>weId</td>
<td>String</td>
<td>Y</td>
<td>WeIdentity DID</td>
<td>授权机构WeIdentity DID</td>
</tr>
<tr class="row-odd"><td>weIdPrivateKey</td>
<td>WeIdPrivateKey</td>
<td>Y</td>
<td>JavaBean</td>
<td>交易私钥，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.WeIdPrivateKey</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>privateKey</td>
<td>String</td>
<td>Y</td>
<td>私钥值</td>
<td>使用十进制数字表示</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:     com.webank.weid.protocol.response.ResponseData&lt;Boolean&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>Boolean</td>
<td>返回结果值</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_INVALID</td>
<td>100101</td>
<td>无效的WeIdentity DID</td>
</tr>
<tr class="row-even"><td>AUTHORITY_ISSUER_ERROR</td>
<td>100200</td>
<td>授权标准异常</td>
</tr>
<tr class="row-odd"><td>AUTHORITY_ISSUER_PRIVATE_KEY_ILLEGAL</td>
<td>100202</td>
<td>私钥格式非法</td>
</tr>
<tr class="row-even"><td>AUTHORITY_ISSUER_ADDRESS_MISMATCH</td>
<td>100204</td>
<td>地址不匹配</td>
</tr>
<tr class="row-odd"><td>AUTHORITY_ISSUER_OPCODE_MISMATCH</td>
<td>100205</td>
<td>操作码不匹配</td>
</tr>
<tr class="row-even"><td>AUTHORITY_ISSUER_NAME_ILLEGAL</td>
<td>100206</td>
<td>名称格式非法</td>
</tr>
<tr class="row-odd"><td>AUTHORITY_ISSUER_ACCVALUE_ILLEAGAL</td>
<td>100207</td>
<td>累计值格式非法</td>
</tr>
<tr class="row-even"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
<tr class="row-even"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
<tr class="row-odd"><td>AUTHORITY_ISSUER_CONTRACT_ERROR_NOT_EXISTS</td>
<td>500202</td>
<td>授权人信息不存在</td>
</tr>
<tr class="row-even"><td>AUTHORITY_ISSUER_CONTRACT_ERROR_NO_PERMISSION</td>
<td>500203</td>
<td>授权人没有权限</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">AuthorityIssuerService</span> <span class="n">authorityIssuerService</span><span class="o">;</span>
<span class="n">WeIdPrivateKey</span> <span class="n">weIdPrivateKey</span> <span class="o">=</span> <span class="k">new</span> <span class="n">WeIdPrivateKey</span><span class="o">();</span>
<span class="n">weIdPrivateKey</span><span class="o">.</span><span class="na">setPrivateKey</span><span class="o">(</span><span class="k">new</span> <span class="n">BigInteger</span><span class="o">(</span><span class="mi">1231232142</span><span class="o">).</span><span class="na">toString</span><span class="o">());</span>
<span class="n">RemoveAuthorityIssuerArgs</span> <span class="n">args</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RemoveAuthorityIssuerArgs</span><span class="o">();</span>
<span class="n">args</span><span class="o">.</span><span class="na">setWeId</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setWeIdPrivateKey</span><span class="o">(</span><span class="n">weIdPrivateKey</span><span class="o">);</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">authorityIssuerService</span><span class="o">.</span><span class="na">removeAuthorityIssuer</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回结果如：
result: true
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="isauthorityissuer">
<h4>3. isAuthorityIssuer<a class="headerlink" href="#isauthorityissuer" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.AuthorityIssuerService.isAuthorityIssuer
接口定义:ResponseData&lt;Boolean&gt; isAuthorityIssuer(String weId)
接口详细描述: 根据WeIdentity DID查询是否注册成授权者
</pre></div>
</div>
<p><strong>接口入参</strong>:    String</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>weId</td>
<td>String</td>
<td>Y</td>
<td>WeIdentity DID</td>
<td>用于搜索权限发布者</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:     com.webank.weid.protocol.response.ResponseData&lt;Boolean&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>Boolean</td>
<td>返回结果值</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_INVALID</td>
<td>100101</td>
<td>无效的WeIdentity DID</td>
</tr>
<tr class="row-even"><td>AUTHORITY_ISSUER_ERROR</td>
<td>100200</td>
<td>授权标准异常</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-even"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">AuthorityIssuerService</span> <span class="n">authorityIssuerService</span><span class="o">;</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">authorityIssuerService</span><span class="o">.</span><span class="na">isAuthorityIssuer</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回结果如：
result: true
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="queryauthorityissuerinfo">
<h4>4. queryAuthorityIssuerInfo<a class="headerlink" href="#queryauthorityissuerinfo" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.AuthorityIssuerService.queryAuthorityIssuerInfo
接口定义:ResponseData&lt;AuthorityIssuer&gt; queryAuthorityIssuerInfo(String weId)
接口详细描述: 根据WeIdentity DID查询授权人信息
</pre></div>
</div>
<p><strong>接口入参</strong>:    String</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>weId</td>
<td>String</td>
<td>Y</td>
<td>WeIdentity DID</td>
<td>用于搜索权限发布者</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:    com.webank.weid.protocol.response.ResponseData&lt;AuthorityIssuer&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>AuthorityIssuer</td>
<td>JavaBean</td>
<td>授权机构信息，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.AuthorityIssuer</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>weId</td>
<td>String</td>
<td>Y</td>
<td>授权机构WeIdentity DID</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>name</td>
<td>String</td>
<td>Y</td>
<td>授权机构名称</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>createDate</td>
<td>Long</td>
<td>Y</td>
<td>创建日期</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>accValue</td>
<td>String</td>
<td>Y</td>
<td>授权方累积判定值</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>：因为Solidity 0.4.4的限制，无法正确的返回accValue，因此这里取得的accValue一定为空字符串。未来会进行修改。</p>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_INVALID</td>
<td>100101</td>
<td>无效的WeIdentity DID</td>
</tr>
<tr class="row-even"><td>AUTHORITY_ISSUER_ERROR</td>
<td>100200</td>
<td>授权标准异常</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-even"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
<tr class="row-odd"><td>AUTHORITY_ISSUER_CONTRACT_ERROR_NOT_EXISTS</td>
<td>500202</td>
<td>授权人信息不存在</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">AuthorityIssuerService</span> <span class="n">authorityIssuerService</span><span class="o">;</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">AuthorityIssuer</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">authorityIssuerService</span><span class="o">.</span><span class="na">queryAuthorityIssuerInfo</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回数据如：
result:(com.webank.weid.protocol.base.AuthorityIssuer)
   weId: did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f
   name: webank1
   createDate: 1539239136000
   accValue:
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="cptservice">
<h3>CptService<a class="headerlink" href="#cptservice" title="永久链接至标题">¶</a></h3>
<div class="section" id="registercpt">
<h4>1. registerCpt<a class="headerlink" href="#registercpt" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.CptService.registerCpt
接口定义:ResponseData&lt;CptBaseInfo&gt; registerCpt(RegisterCptArgs args)
接口详细描述: 传入WeIdentity DID，jsonSchema 和其对应的私钥，链上注册cpt，返回cpt编号和版本
有对cptPublisher和cptJsonSchema 组合签名
</pre></div>
</div>
<p><strong>接口入参</strong>:    com.webank.weid.protocol.request.RegisterCptArgs</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cptJsonSchema</td>
<td>String</td>
<td>Y</td>
<td>json验证器</td>
<td>用于验证json 数据的合规性</td>
</tr>
<tr class="row-odd"><td>cptPublisher</td>
<td>String</td>
<td>Y</td>
<td>CPT发布者的WeIdentity DID</td>
<td>WeIdentity DID的格式传入</td>
</tr>
<tr class="row-even"><td>cptPublisherPrivateKey</td>
<td>WeIdPrivateKey</td>
<td>Y</td>
<td>JavaBean</td>
<td>交易私钥，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.WeIdPrivateKey</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>privateKey</td>
<td>String</td>
<td>Y</td>
<td>私钥值</td>
<td>使用十进制数字表示</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:    com.webank.weid.protocol.response.ResponseData&lt;CptBaseInfo&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>此接口返回的code</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>CptBaseInfo</td>
<td>JavaBean</td>
<td>CPT基础数据，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.CptBaseInfo</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cptId</td>
<td>Integer</td>
<td>cpId编号</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>cptVersion</td>
<td>Integer</td>
<td>版本号</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_INVALID</td>
<td>100101</td>
<td>WeIdentity DID无效</td>
</tr>
<tr class="row-even"><td>WEID_PRIVATEKEY_INVALID</td>
<td>100103</td>
<td>私钥无效</td>
</tr>
<tr class="row-odd"><td>CPT_JSON_SCHEMA_INVALID</td>
<td>100301</td>
<td>schema无效</td>
</tr>
<tr class="row-even"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
<tr class="row-even"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
<tr class="row-odd"><td>CPT_NOT_EXISTS</td>
<td>500301</td>
<td>cpt不存在</td>
</tr>
<tr class="row-even"><td>CPT_ID_AUTHORITY_ISSUER_EXCEED_MAX</td>
<td>500302</td>
<td>为权威机构生成的cptId超过上限</td>
</tr>
<tr class="row-odd"><td>CPT_PUBLISHER_NOT_EXIST</td>
<td>500303</td>
<td>CPT发布者的WeIdentity DID不存在</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span> <span class="n">CptServiceImpl</span> <span class="n">cptService</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CptServiceImpl</span><span class="o">();</span>
<span class="n">String</span> <span class="n">schema</span> <span class="o">=</span> <span class="s">&quot;{\&quot;$schema\&quot;:\&quot;http://json-schema.org/draft-04/schema#\&quot;,\&quot;title\&quot;:\&quot;/etc/fstab\&quot;,\&quot;description\&quot;:\&quot;JSON representation of /etc/fstab\&quot;,\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:{\&quot;swap\&quot;:{\&quot;$ref\&quot;:\&quot;#/definitions/mntent\&quot;}},\&quot;patternProperties\&quot;:{\&quot;^/([^/]+(/[^/]+)*)?$\&quot;:{\&quot;$ref\&quot;:\&quot;#/definitions/mntent\&quot;}},\&quot;required\&quot;:[\&quot;/\&quot;,\&quot;swap\&quot;],\&quot;additionalProperties\&quot;:false,\&quot;definitions\&quot;:{\&quot;mntent\&quot;:{\&quot;title\&quot;:\&quot;mntent\&quot;,\&quot;description\&quot;:\&quot;An fstab entry\&quot;,\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:{\&quot;device\&quot;:{\&quot;type\&quot;:\&quot;string\&quot;},\&quot;fstype\&quot;:{\&quot;type\&quot;:\&quot;string\&quot;},\&quot;options\&quot;:{\&quot;type\&quot;:\&quot;array\&quot;,\&quot;minItems\&quot;:1,\&quot;items\&quot;:{\&quot;type\&quot;:\&quot;string\&quot;}},\&quot;dump\&quot;:{\&quot;type\&quot;:\&quot;integer\&quot;,\&quot;minimum\&quot;:0},\&quot;fsck\&quot;:{\&quot;type\&quot;:\&quot;integer\&quot;,\&quot;minimum\&quot;:0}},\&quot;required\&quot;:[\&quot;device\&quot;,\&quot;fstype\&quot;],\&quot;additionalItems\&quot;:false}}}&quot;</span><span class="o">;</span>
<span class="n">RegisterCptArgs</span> <span class="n">args</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RegisterCptArgs</span><span class="o">();</span>
<span class="n">WeIdPrivateKey</span> <span class="n">weIdPrivateKey</span> <span class="o">=</span> <span class="k">new</span> <span class="n">WeIdPrivateKey</span><span class="o">();</span>
<span class="n">args</span><span class="o">.</span><span class="na">setCptPublisherPrivateKey</span><span class="o">(</span><span class="n">weIdPrivateKey</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setCptJsonSchema</span><span class="o">(</span><span class="n">schema</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setCptPublisher</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
<span class="n">weIdPrivateKey</span><span class="o">.</span><span class="na">setPrivateKey</span><span class="o">(</span><span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">Base64</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="k">new</span> <span class="n">BigInteger</span><span class="o">(</span>
     <span class="s">&quot;84259158061731800175730035500197147557630375762366333000754891654353899157503&quot;</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">toByteArray</span><span class="o">())));</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">RegisterCptResult</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">cptService</span><span class="o">.</span><span class="na">registerCpt</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回数据如下：
result:(com.webank.weid.protocol.response.CptBaseInfo)
   cptId: 148
   cptVersion: 1
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="querycpt">
<h4>2. queryCpt<a class="headerlink" href="#querycpt" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.CptService.queryCpt
接口定义:ResponseData&lt;Cpt&gt; queryCpt(Integer cptId)
接口详细描述: 根据cpt编号查询cpt注册信息
</pre></div>
</div>
<p><strong>接口入参</strong>:    java.lang.Integer</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>value</td>
<td>Integer</td>
<td>Y</td>
<td>cptId编号</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:    com.webank.weid.protocol.response.ResponseData&lt;Cpt&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>此接口返回的code</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>Cpt</td>
<td>JavaBean</td>
<td>CPT内容，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.Cpt</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cptJsonSchema</td>
<td>String</td>
<td>json验证器</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>cptBaseInfo</td>
<td>CptBaseInfo</td>
<td>JavaBean</td>
<td>CPT基础数据，见下</td>
</tr>
<tr class="row-even"><td>cptMetaData</td>
<td>CptMetaData</td>
<td>JavaBean</td>
<td>CPT元数据内部类，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.CptBaseInfo</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cptId</td>
<td>Integer</td>
<td>cpId编号</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>cptVersion</td>
<td>Integer</td>
<td>版本号</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.Cpt.MetaData</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cptPublisher</td>
<td>String</td>
<td>CPT发布者的WeIdentity DID</td>
<td>WeIdentity DID格式数据</td>
</tr>
<tr class="row-odd"><td>cptSignature</td>
<td>String</td>
<td>签名数据</td>
<td>cptPublisher与cptJsonSchema拼接的签名数据</td>
</tr>
<tr class="row-even"><td>updated</td>
<td>Long</td>
<td>更新时间</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>created</td>
<td>Long</td>
<td>创建日期</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-even"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
<tr class="row-odd"><td>CPT_NOT_EXISTS</td>
<td>500301</td>
<td>cpt不存在</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span> <span class="n">CptServiceImpl</span> <span class="n">cptService</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CptServiceImpl</span><span class="o">();;</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">QueryCptResult</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">cptService</span><span class="o">.</span><span class="na">queryCpt</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回数据如下：
result:(com.webank.weid.protocol.response.Cpt)
   cptBaseInfo:(com.webank.weid.protocol.response.CptBaseInfo)
      cptId: 148
      cptVersion: 1
   cptJsonSchema: {&quot;$schema&quot;:&quot;http://json-schema.org/draft-04/schema#&quot;,&quot;title&quot;:&quot;/etc/fstab&quot;,&quot;description&quot;:&quot;JSON representation of /etc/fstab&quot;,&quot;type&quot;:&quot;object&quot;,&quot;properties&quot;:{&quot;swap&quot;:{&quot;$ref&quot;:&quot;#/definitions/mntent&quot;}},&quot;patternProperties&quot;:{&quot;^/([^/]+(/[^/]+)*)?$&quot;:{&quot;$ref&quot;:&quot;#/definitions/mntent&quot;}},&quot;required&quot;:[&quot;/&quot;,&quot;swap&quot;],&quot;additionalProperties&quot;:false,&quot;definitions&quot;:{&quot;mntent&quot;:{&quot;title&quot;:&quot;mntent&quot;,&quot;description&quot;:&quot;An fstab entry&quot;,&quot;type&quot;:&quot;object&quot;,&quot;properties&quot;:{&quot;device&quot;:{&quot;type&quot;:&quot;string&quot;},&quot;fstype&quot;:{&quot;type&quot;:&quot;string&quot;},&quot;options&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;minItems&quot;:1,&quot;items&quot;:{&quot;type&quot;:&quot;string&quot;}},&quot;dump&quot;:{&quot;type&quot;:&quot;integer&quot;,&quot;minimum&quot;:0},&quot;fsck&quot;:{&quot;type&quot;:&quot;integer&quot;,&quot;minimum&quot;:0}},&quot;required&quot;:[&quot;device&quot;,&quot;fstype&quot;],&quot;additionalItems&quot;:false}}}
   cptMetaData:(com.webank.weid.protocol.response.Cpt$CptMetaData)
      cptPublisher: did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f
      cptSignature: HO+/ve+/vXfvv70hQO+/vQwMVO+/vSot77+977+9UGEhLO+/vW4277+977+977+9HO+/ve+/vSTvv70777+9f14=
      created: -1957647935
      updated: 0
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="updatecpt">
<h4>3. updateCpt<a class="headerlink" href="#updatecpt" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.CptService.updateCpt
接口定义:ResponseData&lt;CptBaseInfo&gt; updateCpt(UpdateCptArgs args)
接口详细描述: 传入cptId，json验证器，WeIdentity DID，WeIdentity DID所属私钥，进行更新cpt信息，更新成功版本自动+1
有对cptPublisher和cptJsonSchema组合签名
</pre></div>
</div>
<p><strong>接口入参</strong>:    com.webank.weid.protocol.request.UpdateCptArgs</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cptId</td>
<td>Integer</td>
<td>Y</td>
<td>cpt编号</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>cptJsonSchema</td>
<td>String</td>
<td>Y</td>
<td>json验证器</td>
<td>json schema 数据</td>
</tr>
<tr class="row-even"><td>cptPublisher</td>
<td>String</td>
<td>Y</td>
<td>CPT发布者的WeIdentity DID</td>
<td>WeIdentity DID格式</td>
</tr>
<tr class="row-odd"><td>cptPublisherPrivateKey</td>
<td>WeIdPrivateKey</td>
<td>Y</td>
<td>JavaBean</td>
<td>交易私钥，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.WeIdPrivateKey</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>privateKey</td>
<td>String</td>
<td>Y</td>
<td>私钥值</td>
<td>使用十进制数字表示</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:    com.webank.weid.protocol.response.ResponseData&lt;CptBaseInfo&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>此接口返回的code</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>CptBaseInfo</td>
<td>JavaBean</td>
<td>CPT基础数据，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.CptBaseInfo</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cptId</td>
<td>Integer</td>
<td>cpId编号</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>cptVersion</td>
<td>Integer</td>
<td>版本号</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_INVALID</td>
<td>100101</td>
<td>WeIdentity DID无效</td>
</tr>
<tr class="row-even"><td>WEID_PRIVATEKEY_INVALID</td>
<td>100103</td>
<td>私钥无效</td>
</tr>
<tr class="row-odd"><td>CPT_JSON_SCHEMA_INVALID</td>
<td>100301</td>
<td>schema无效</td>
</tr>
<tr class="row-even"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
<tr class="row-even"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
<tr class="row-odd"><td>CPT_ID_AUTHORITY_ISSUER_EXCEED_MAX</td>
<td>500302</td>
<td>为权威机构生成的cptId超过上限</td>
</tr>
<tr class="row-even"><td>CPT_NOT_EXISTS</td>
<td>500301</td>
<td>cpt不存在</td>
</tr>
<tr class="row-odd"><td>CPT_PUBLISHER_NOT_EXIST</td>
<td>500303</td>
<td>cpt发布者的WeIdentity DID不存在</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span> <span class="n">CptServiceImpl</span> <span class="n">cptService</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CptServiceImpl</span><span class="o">();</span>
<span class="n">String</span> <span class="n">schema</span> <span class="o">=</span> <span class="s">&quot;{\&quot;$schema\&quot;:\&quot;http://json-schema.org/draft-04/schema#\&quot;,\&quot;title\&quot;:\&quot;/etc/fstab\&quot;,\&quot;description\&quot;:\&quot;JSON representation of /etc/fstab\&quot;,\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:{\&quot;swap\&quot;:{\&quot;$ref\&quot;:\&quot;#/definitions/mamntent\&quot;}},\&quot;patternProperties\&quot;:{\&quot;^/([^/]+(/[^/]+)*)?$\&quot;:{\&quot;$ref\&quot;:\&quot;#/definitions/mntent\&quot;}},\&quot;required\&quot;:[\&quot;/\&quot;,\&quot;swap\&quot;],\&quot;additionalProperties\&quot;:false,\&quot;definitions\&quot;:{\&quot;mntent\&quot;:{\&quot;title\&quot;:\&quot;mntent\&quot;,\&quot;description\&quot;:\&quot;An fstab entry\&quot;,\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:{\&quot;device\&quot;:{\&quot;type\&quot;:\&quot;string\&quot;},\&quot;fstype\&quot;:{\&quot;type\&quot;:\&quot;string\&quot;},\&quot;options\&quot;:{\&quot;type\&quot;:\&quot;array\&quot;,\&quot;minItems\&quot;:1,\&quot;items\&quot;:{\&quot;type\&quot;:\&quot;string\&quot;}},\&quot;dump\&quot;:{\&quot;type\&quot;:\&quot;integer\&quot;,\&quot;minimum\&quot;:0},\&quot;fsck\&quot;:{\&quot;type\&quot;:\&quot;integer\&quot;,\&quot;minimum\&quot;:0}},\&quot;required\&quot;:[\&quot;device\&quot;,\&quot;fstype\&quot;],\&quot;additionalItems\&quot;:false}}}&quot;</span><span class="o">;</span>

<span class="n">UpdateCptArgs</span> <span class="n">args</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UpdateCptArgs</span><span class="o">();</span>
<span class="n">WeIdPrivateKey</span> <span class="n">weIdPrivateKey</span> <span class="o">=</span> <span class="k">new</span> <span class="n">WeIdPrivateKey</span><span class="o">();</span>
<span class="n">args</span><span class="o">.</span><span class="na">setCptPublisherPrivateKey</span><span class="o">(</span><span class="n">weIdPrivateKey</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setCptJsonSchema</span><span class="o">(</span><span class="n">schema</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setCptPublisher</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
<span class="n">weIdPrivateKey</span><span class="o">.</span><span class="na">setPrivateKey</span><span class="o">(</span><span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">Base64</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="k">new</span> <span class="n">BigInteger</span><span class="o">(</span><span class="s">&quot;84259158061731800175730035500197147557630375762366333000754891654353899157503&quot;</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">toByteArray</span><span class="o">())));</span>
<span class="n">args</span><span class="o">.</span><span class="na">setCptId</span><span class="o">(</span><span class="mi">148</span><span class="o">);</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">CptBaseInfo</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">cptService</span><span class="o">.</span><span class="na">updateCpt</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回数据如下：
result:(com.webank.weid.protocol.response.CptBaseInfo)
   cptId: 148
   cptVersion: 3
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="credentialservice">
<h3>CredentialService<a class="headerlink" href="#credentialservice" title="永久链接至标题">¶</a></h3>
<div class="section" id="createcredential">
<h4>1. createCredential<a class="headerlink" href="#createcredential" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.CredentialService.createCredential
接口定义:ResponseData&lt;Credential&gt; createCredential(CreateCredentialArgs args)
接口详细描述: 生成证书信息，有判断要求数据有效，相关非空验证等
注意：本接口并不进行链上操作检查CPT真实性等问题。创造出来的credential有可能是无效的！
调用方有责任在调用之前通过其他API判断。
</pre></div>
</div>
<p><strong>接口入参</strong>:   com.webank.weid.protocol.request.CreateCredentialArgs</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cptId</td>
<td>Integer</td>
<td>Y</td>
<td>cpt编号</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>issuer</td>
<td>String</td>
<td>Y</td>
<td>发行方WeIdentity DID</td>
<td>WeIdentity DID格式数据</td>
</tr>
<tr class="row-even"><td>expirationDate</td>
<td>String</td>
<td>Y</td>
<td>到期日</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>claimData</td>
<td>String</td>
<td>Y</td>
<td>Claim的json格式数据</td>
<td>通过cpt的jsonSchema验证的数据</td>
</tr>
<tr class="row-even"><td>cptPublisherPrivateKey</td>
<td>WeIdPrivateKey</td>
<td>Y</td>
<td>JavaBean</td>
<td>签名所用Issuer WeIdentity DID私钥，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.WeIdPrivateKey</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>privateKey</td>
<td>String</td>
<td>Y</td>
<td>私钥值</td>
<td>使用十进制数字表示</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:    com.webank.weid.protocol.response.ResponseData&lt;Credential&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>Credential</td>
<td>JavaBean</td>
<td>见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.Credential</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>context</td>
<td>String</td>
<td>Y</td>
<td>版本</td>
<td>默认为v1</td>
</tr>
<tr class="row-odd"><td>id</td>
<td>String</td>
<td>Y</td>
<td>证书编号</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>cptId</td>
<td>Integer</td>
<td>Y</td>
<td>cptId</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>issuer</td>
<td>String</td>
<td>Y</td>
<td>WeIdentity DID</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>issuranceDate</td>
<td>Long</td>
<td>Y</td>
<td>创建日期</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>expirationDate</td>
<td>Long</td>
<td>Y</td>
<td>到期日期</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>signature</td>
<td>String</td>
<td>Y</td>
<td>签名数据</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>claimData</td>
<td>String</td>
<td>Y</td>
<td>Claim数据</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_ERROR</td>
<td>100400</td>
<td>Credential标准错误</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_ISSUER_NOT_EXISTS</td>
<td>100407</td>
<td>WeIdentity DID不能为空</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_EXPIRE_DATE_ILLEGAL</td>
<td>100409</td>
<td>到期日期无效</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_CLAIM_NOT_EXISTS</td>
<td>100410</td>
<td>Claim数据不能为空</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_CLAIM_DATA_ILLEGAL</td>
<td>100411</td>
<td>Claim数据无效</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_PRIVATE_KEY_NOT_EXISTS</td>
<td>100415</td>
<td>私钥为空</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_CPT_NOT_EXISTS</td>
<td>100416</td>
<td>cpt不存在</td>
</tr>
<tr class="row-even"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">CredentialService</span> <span class="n">credentialService</span><span class="o">;</span>
<span class="n">String</span> <span class="n">schema1Data</span> <span class="o">=</span>  <span class="s">&quot;{\&quot;/\&quot;:{\&quot;device\&quot;:\&quot;/dev/sda1\&quot;,\&quot;fstype\&quot;:\&quot;btrfs\&quot;,\&quot;options\&quot;:[\&quot;ssd\&quot;]},\&quot;swap\&quot;:{\&quot;device\&quot;:\&quot;/dev/sda2\&quot;,\&quot;fstype\&quot;:\&quot;swap\&quot;},\&quot;/tmp\&quot;:{\&quot;device\&quot;:\&quot;tmpfs\&quot;,\&quot;fstype\&quot;:\&quot;tmpfs\&quot;,\&quot;options\&quot;:[\&quot;size=64M\&quot;]},\&quot;/var/lib/mysql\&quot;:{\&quot;device\&quot;:\&quot;/dev/data/mysql\&quot;,\&quot;fstype\&quot;:\&quot;btrfs\&quot;}}&quot;</span><span class="o">;</span>

<span class="n">CreateCredentialArgs</span> <span class="n">args</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CreateCredentialArgs</span><span class="o">();</span>
<span class="n">args</span><span class="o">.</span><span class="na">setClaimData</span><span class="o">(</span><span class="n">RequestUtil</span><span class="o">.</span><span class="na">schema1Data</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setCptId</span><span class="o">(</span><span class="mi">155</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setExpirationDate</span><span class="o">(</span><span class="mi">21313312312312312L</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setIssuer</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
<span class="n">WeIdPrivateKey</span> <span class="n">weIdPrivateKey</span> <span class="o">=</span> <span class="k">new</span> <span class="n">WeIdPrivateKey</span><span class="o">();</span>
<span class="n">weIdPrivateKey</span><span class="o">.</span><span class="na">setPrivateKey</span><span class="o">(</span><span class="k">new</span> <span class="n">BigInteger</span><span class="o">(</span><span class="mi">1231232142</span><span class="o">).</span><span class="na">toString</span><span class="o">());</span>
<span class="n">args</span><span class="o">.</span><span class="na">setWeIdPrivateKey</span><span class="o">(</span><span class="n">weIdPrivateKey</span><span class="o">);</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">Credential</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">credentialService</span><span class="o">.</span><span class="na">createCredential</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回结果如：
result:(com.webank.weid.protocol.base.Credential)
   context: v1
   credentialId: 41e07e22-9022-476f-80d6-0dfbd6a328d1
   cptId: 155
   issuer: did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f
   issuranceDate: 1539239136000
   expirationDate: 1539259136000
   claimData: {&quot;/&quot;:{&quot;device&quot;:&quot;/dev/sda1&quot;,&quot;fstype&quot;:&quot;btrfs&quot;,&quot;options&quot;:[&quot;ssd&quot;]},&quot;swap&quot;:{&quot;device&quot;:&quot;/dev/sda2&quot;,&quot;fstype&quot;:&quot;swap&quot;},&quot;/tmp&quot;:{&quot;device&quot;:&quot;tmpfs&quot;,&quot;fstype&quot;:&quot;tmpfs&quot;,&quot;options&quot;:[&quot;size=64M&quot;]},&quot;/var/lib/mysql&quot;:{&quot;device&quot;:&quot;/dev/data/mysql&quot;,&quot;fstype&quot;:&quot;btrfs&quot;}}
   signature: HPzECgQJOWWhOfFOfZjOTwEv0b7DZXfji39jdaC1+TTHXXpJJBQ+rBHQ7tPlsBokBhUCmm5EG/CkQJCb7z03FuA=
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="verifycredential">
<h4>2. verifyCredential<a class="headerlink" href="#verifycredential" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.CredentialService.verifyCredential
接口定义:ResponseData&lt;Boolean&gt; verifyCredential(Credential args)
接口详细描述: 传入Credential信息进行验证，无需公钥
</pre></div>
</div>
<p><strong>接口入参</strong>:   com.webank.weid.protocol.base.Credential</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>context</td>
<td>String</td>
<td>Y</td>
<td>版本</td>
<td>默认为v1</td>
</tr>
<tr class="row-odd"><td>id</td>
<td>String</td>
<td>Y</td>
<td>证书编号</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>cptId</td>
<td>Integer</td>
<td>Y</td>
<td>cptId</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>issuer</td>
<td>String</td>
<td>Y</td>
<td>WeIdentity DID</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>issuranceDate</td>
<td>Long</td>
<td>Y</td>
<td>创建日期</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>expirationDate</td>
<td>Long</td>
<td>Y</td>
<td>到期日期</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>signature</td>
<td>String</td>
<td>Y</td>
<td>签名数据</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>claimData</td>
<td>String</td>
<td>Y</td>
<td>Claim数据</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:   com.webank.weid.protocol.response.ResponseData&lt;Boolean&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>Boolean</td>
<td>返回结果值</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>CPT_JSON_SCHEMA_INVALID</td>
<td>100301</td>
<td>Json Schema非法</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_ERROR</td>
<td>100400</td>
<td>Credential标准错误</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_NOT_EXISTS</td>
<td>100401</td>
<td>Credential入参为空</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_EXPIRED</td>
<td>100402</td>
<td>过期</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_ISSUER_MISMATCH</td>
<td>100403</td>
<td>issuer与签名不匹配</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_SIGNATURE_BROKEN</td>
<td>100405</td>
<td>签名破坏</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_REVOKED</td>
<td>100406</td>
<td>已被撤销</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_ISSUER_NOT_EXISTS</td>
<td>100407</td>
<td>WeIdentity DID不能为空</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_CREATE_DATE_ILLEGAL</td>
<td>100408</td>
<td>创建日期格式非法</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_EXPIRE_DATE_ILLEGAL</td>
<td>100409</td>
<td>到期日期格式非法</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_CLAIM_NOT_EXISTS</td>
<td>100410</td>
<td>Claim数据不能为空</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_CLAIM_DATA_ILLEGAL</td>
<td>100411</td>
<td>Claim数据无效</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_ID_NOT_EXISTS</td>
<td>100412</td>
<td>ID为空</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_CONTEXT_NOT_EXISTS</td>
<td>100413</td>
<td>context为空</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_CPT_NOT_EXISTS</td>
<td>100416</td>
<td>cpt不存在</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_WEID_DOCUMENT_ILLEGAL</td>
<td>100417</td>
<td>WeIdentity Document为空</td>
</tr>
<tr class="row-odd"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">CredentialService</span> <span class="n">credentialService</span><span class="o">;</span>
  <span class="n">String</span> <span class="n">schemaData</span> <span class="o">=</span>  <span class="s">&quot;{\&quot;/\&quot;:{\&quot;device\&quot;:\&quot;/dev/sda2\&quot;,\&quot;fstype\&quot;:\&quot;btrfs\&quot;,\&quot;options\&quot;:[\&quot;ssd\&quot;]},\&quot;swap\&quot;:{\&quot;device\&quot;:\&quot;/dev/sda2\&quot;,\&quot;fstype\&quot;:\&quot;swap\&quot;},\&quot;/tmp\&quot;:{\&quot;device\&quot;:\&quot;tmpfs\&quot;,\&quot;fstype\&quot;:\&quot;tmpfs\&quot;,\&quot;options\&quot;:[\&quot;size=64M\&quot;]},\&quot;/var/lib/mysql\&quot;:{\&quot;device\&quot;:\&quot;/dev/data/mysql\&quot;,\&quot;fstype\&quot;:\&quot;btrfs\&quot;}}&quot;</span><span class="o">;</span>

<span class="n">Credential</span> <span class="n">args</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Credential</span><span class="o">();</span>
<span class="n">args</span><span class="o">.</span><span class="na">setClaimData</span><span class="o">(</span><span class="n">RequestUtil</span><span class="o">.</span><span class="na">schemaData</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setContext</span><span class="o">(</span><span class="s">&quot;v1&quot;</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setCptId</span><span class="o">(</span><span class="mi">155</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setIssuranceDate</span><span class="o">(</span><span class="mi">11313312312312312L</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setCredentialId</span><span class="o">(</span><span class="s">&quot;54bc3832-fce7-433a-80c7-ba284635c67a&quot;</span><span class="o">);</span><span class="c1">// 系统生成</span>
<span class="n">args</span><span class="o">.</span><span class="na">setSignature</span><span class="o">(</span><span class="s">&quot;HLrW58iqkupFZAykaPTvU8RJ1paNUk3dou9h4LFR22y2NjQsINN2DkQk8otiKLuSUjrFFvupSxfpEvUrMOC5nWc=&quot;</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setExpirationDate</span><span class="o">(</span><span class="mi">21313312312312312L</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setIssuer</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">credentialService</span><span class="o">.</span><span class="na">verifyCredential</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回结果如：
result: false
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="verifycredentialwithspecifiedpubkey">
<h4>3. verifyCredentialWithSpecifiedPubKey<a class="headerlink" href="#verifycredentialwithspecifiedpubkey" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.CredentialService.verifyCredentialWithSpecifiedPubKey
接口定义:ResponseData&lt;Boolean&gt; verifyCredentialWithSpecifiedPubKey(VerifyCredentialArgs args)
接口详细描述: 传入Credential信息进行验证，需公钥一并传入
</pre></div>
</div>
<p><strong>接口入参</strong>:   com.webank.weid.protocol.request.VerifyCredentialArgs</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>credential</td>
<td>Credential</td>
<td>Y</td>
<td>JavaBean，见下</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>publicKey</td>
<td>String</td>
<td>Y</td>
<td>公钥</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.Credential</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>context</td>
<td>String</td>
<td>Y</td>
<td>版本</td>
<td>默认为v1</td>
</tr>
<tr class="row-odd"><td>id</td>
<td>String</td>
<td>Y</td>
<td>证书编号</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>cptId</td>
<td>Integer</td>
<td>Y</td>
<td>cptId</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>issuer</td>
<td>String</td>
<td>Y</td>
<td>WeIdentity DID</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>issuranceDate</td>
<td>Long</td>
<td>Y</td>
<td>创建日期</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>expirationDate</td>
<td>Long</td>
<td>Y</td>
<td>到期日期</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>signature</td>
<td>String</td>
<td>Y</td>
<td>签名数据</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>claimData</td>
<td>String</td>
<td>Y</td>
<td>Claim数据</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:   com.webank.weid.protocol.response.ResponseData&lt;Boolean&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>Boolean</td>
<td>返回结果值</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>CPT_JSON_SCHEMA_INVALID</td>
<td>100301</td>
<td>Json Schema非法</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_ERROR</td>
<td>100400</td>
<td>Credential标准错误</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_NOT_EXISTS</td>
<td>100401</td>
<td>Credential入参为空</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_EXPIRED</td>
<td>100402</td>
<td>过期</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_ISSUER_MISMATCH</td>
<td>100403</td>
<td>issuer与签名不匹配</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_SIGNATURE_BROKEN</td>
<td>100405</td>
<td>签名破坏</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_REVOKED</td>
<td>100406</td>
<td>已被撤销</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_ISSUER_NOT_EXISTS</td>
<td>100407</td>
<td>WeIdentity DID不能为空</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_CREATE_DATE_ILLEGAL</td>
<td>100408</td>
<td>创建日期格式非法</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_EXPIRE_DATE_ILLEGAL</td>
<td>100409</td>
<td>到期日期格式非法</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_CLAIM_NOT_EXISTS</td>
<td>100410</td>
<td>Claim数据不能为空</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_CLAIM_DATA_ILLEGAL</td>
<td>100411</td>
<td>Claim数据无效</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_ID_NOT_EXISTS</td>
<td>100412</td>
<td>ID为空</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_CONTEXT_NOT_EXISTS</td>
<td>100413</td>
<td>context为空</td>
</tr>
<tr class="row-odd"><td>CREDENTIAL_CPT_NOT_EXISTS</td>
<td>100416</td>
<td>cpt不存在</td>
</tr>
<tr class="row-even"><td>CREDENTIAL_WEID_DOCUMENT_ILLEGAL</td>
<td>100417</td>
<td>WeIdentity Document为空</td>
</tr>
<tr class="row-odd"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">CredentialService</span> <span class="n">credentialService</span><span class="o">;</span>
  <span class="n">String</span> <span class="n">schemaData</span> <span class="o">=</span>  <span class="s">&quot;{\&quot;/\&quot;:{\&quot;device\&quot;:\&quot;/dev/sda2\&quot;,\&quot;fstype\&quot;:\&quot;btrfs\&quot;,\&quot;options\&quot;:[\&quot;ssd\&quot;]},\&quot;swap\&quot;:{\&quot;device\&quot;:\&quot;/dev/sda2\&quot;,\&quot;fstype\&quot;:\&quot;swap\&quot;},\&quot;/tmp\&quot;:{\&quot;device\&quot;:\&quot;tmpfs\&quot;,\&quot;fstype\&quot;:\&quot;tmpfs\&quot;,\&quot;options\&quot;:[\&quot;size=64M\&quot;]},\&quot;/var/lib/mysql\&quot;:{\&quot;device\&quot;:\&quot;/dev/data/mysql\&quot;,\&quot;fstype\&quot;:\&quot;btrfs\&quot;}}&quot;</span><span class="o">;</span>

<span class="n">Credential</span> <span class="n">args</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Credential</span><span class="o">();</span>
<span class="n">args</span><span class="o">.</span><span class="na">setClaimData</span><span class="o">(</span><span class="n">RequestUtil</span><span class="o">.</span><span class="na">schemaData</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setContext</span><span class="o">(</span><span class="s">&quot;v1&quot;</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setCptId</span><span class="o">(</span><span class="mi">155</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setIssuranceDate</span><span class="o">(</span><span class="mi">11313312312312312L</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setCredentialId</span><span class="o">(</span><span class="s">&quot;54bc3832-fce7-433a-80c7-ba284635c67a&quot;</span><span class="o">);</span><span class="c1">// 系统生成</span>
<span class="n">args</span><span class="o">.</span><span class="na">setSignature</span><span class="o">(</span><span class="s">&quot;HLrW58iqkupFZAykaPTvU8RJ1paNUk3dou9h4LFR22y2NjQsINN2DkQk8otiKLuSUjrFFvupSxfpEvUrMOC5nWc=&quot;</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setExpirationDate</span><span class="o">(</span><span class="mi">21313312312312312L</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setIssuer</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
<span class="n">VerifyCredentialArgs</span> <span class="n">verify</span><span class="o">=</span><span class="k">new</span> <span class="n">VerifyCredentialArgs</span><span class="o">();</span>
<span class="n">verify</span><span class="o">.</span><span class="na">setCredential</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
<span class="n">WeIdPublicKey</span> <span class="n">weIdPublicKey</span> <span class="o">=</span> <span class="k">new</span> <span class="n">WeIdPublicKey</span><span class="o">();</span>
 <span class="n">weIdPublicKey</span><span class="o">.</span><span class="na">setPublicKey</span><span class="o">(</span><span class="k">new</span> <span class="n">BigInteger</span><span class="o">(</span><span class="s">&quot;13161444623157635919577071263152435729269604287924587017945158373362984739390835280704888860812486081963832887336483721952914804189509503053687001123007342&quot;</span><span class="o">));</span>
 <span class="n">verify</span><span class="o">.</span><span class="na">setWeIdPublicKey</span><span class="o">(</span><span class="n">weIdPublicKey</span><span class="o">);</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">credentialService</span><span class="o">.</span><span class="na">verifyCredentialWithSpecifiedPubKey</span><span class="o">(</span><span class="n">verify</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回结果如：
result: false
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="weidservice">
<h3>WeIDService<a class="headerlink" href="#weidservice" title="永久链接至标题">¶</a></h3>
<div class="section" id="createweid">
<h4>1. createWeId<a class="headerlink" href="#createweid" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.WeIdService.createWeId
接口定义:ResponseData&lt;CreateWeIdDataResult&gt; createWeId()
接口详细描述: 生成一对公私钥,将公钥转换成16进制，并生产weid:did:weid:1:0x………………….
并返回公钥 私钥 以及WeIdentity DID
</pre></div>
</div>
<p><strong>接口入参</strong>:   无</p>
<p><strong>接口返回</strong>:   com.webank.weid.protocol.response.ResponseData&lt;CreateWeIdDataResult&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>CreateWeIdDataResult</td>
<td>JavaBean</td>
<td>见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.response.CreateWeIdDataResult</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>weId</td>
<td>String</td>
<td>公钥WeIdentity DID格式字符串</td>
<td>格式:did:weid:1:0x685</td>
</tr>
<tr class="row-odd"><td>userWeIdPublicKey</td>
<td>WeIdPublicKey</td>
<td>JavaBean</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>userWeIdPrivateKey</td>
<td>WeIdPrivateKey</td>
<td>JavaBean</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.WeIdPublicKey</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>publicKey</td>
<td>String</td>
<td>数字公钥</td>
<td>如下调用示例返回，使用十进制数字表示</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.WeIdPrivateKey</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>privateKey</td>
<td>String</td>
<td>数字私钥</td>
<td>如下调用示例返回，使用十进制数字表示</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_KEYPAIR_CREATE_FAILED</td>
<td>10107</td>
<td>创建密钥对失败</td>
</tr>
<tr class="row-even"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">WeIdService</span> <span class="n">weIdService</span><span class="o">;</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">CreateWeIdDataResult</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">weIdService</span><span class="o">.</span><span class="na">createWeId</span><span class="o">();</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>输出结果如下：
result:(com.webank.weid.protocol.response.CreateWeIdDataResult)
   weId: did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f
   userWeIdPublicKey:(com.webank.weid.protocol.base.WeIdPublicKey)
      publicKey: 13161444623157635919577071263152435729269604287924587017945158373362984739390835280704888860812486081963832887336483721952914804189509503053687001123007342
   userWeIdPrivateKey:(com.webank.weid.protocol.base.WeIdPrivateKey)
      privateKey: 84259158061731800175730035500197147557630375762366333000754891654353899157503
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="id10">
<h4>2. createWeId<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.WeIdService.createWeId
接口定义:ResponseData&lt;String&gt; createWeId(CreateWeIdArgs createWeIdArgs)
接口详细描述: 传入数字公钥，如果数字公钥为null 则返回为空，如果数字公钥不为空，则将数字公钥转换成16进制，并组成成WeIdentity DID
</pre></div>
</div>
<p><strong>接口入参</strong>:  com.webank.weid.protocol.request.CreateWeIdArgs</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>publicKey</td>
<td>String</td>
<td>Y</td>
<td>数字公钥</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>weIdPrivateKey</td>
<td>WeIdPrivateKey</td>
<td>N</td>
<td>JavaBean</td>
<td>后期鉴权使用</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.WeIdPrivateKey</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>privateKey</td>
<td>String</td>
<td>数字私钥</td>
<td>使用十进制数字表示</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:   com.webank.weid.protocol.response.ResponseData&lt;String&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>String</td>
<td>公钥WeIdentity DID格式字符串</td>
<td>如：did:weid:1:0x….</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_PUBLICKEY_AND_PRIVATEKEY_NOT_MATCHED</td>
<td>10108</td>
<td>公私钥不成对</td>
</tr>
<tr class="row-even"><td>WEID_PRIVATEKEY_INVALID</td>
<td>100103</td>
<td>私钥格式非法</td>
</tr>
<tr class="row-odd"><td>WEID_ALREADY_EXIST</td>
<td>100105</td>
<td>WeIdentity DID已存在</td>
</tr>
<tr class="row-even"><td>WEID_PRIVATEKEY_DOES_NOT_MATCH</td>
<td>100106</td>
<td>私钥不与WeIdentity DID所对应</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-even"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
<tr class="row-odd"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">WeIdService</span> <span class="n">weIdService</span><span class="o">;</span>
<span class="n">CreateWeIdArgs</span> <span class="n">args</span><span class="o">=</span><span class="k">new</span> <span class="n">CreateWeIdArgs</span><span class="o">();</span>
<span class="n">args</span><span class="o">.</span><span class="na">setPublicKey</span><span class="o">(</span><span class="s">&quot;13161444623157635919577071263152435729269604287924587017945158373362984739390835280704888860812486081963832887336483721952914804189509503053687001123007342&quot;</span><span class="o">);</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">weIdService</span><span class="o">.</span><span class="na">createWeId</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>输出结果如下：
result: did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="getweiddocumentjson">
<h4>3. getWeIdDocumentJson<a class="headerlink" href="#getweiddocumentjson" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.WeIdService.getWeIdDocumentJson
接口定义:ResponseData&lt;String&gt; getWeIdDocumentJson(String weId)
接口详细描述: 传入WeIdentity DID，检查其有效性：不能为null,并且包含did:weid:
解析WeIdentity DID的公钥地址（16进制的hash地址），根据公钥地址，去查找最后的区块数据，并且递归去查找全部数据并解析
成WeIdentity docment,将WeIdentity docment格式化为json字符串
</pre></div>
</div>
<p><strong>接口入参</strong>:   String</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>weId</td>
<td>String</td>
<td>Y</td>
<td>WeIdentity DID字符串</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:   com.webank.weid.protocol.response.ResponseData&lt;String&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>String</td>
<td>weidDocument Json</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_INVALID</td>
<td>100101</td>
<td>无效的WeIdentity DID</td>
</tr>
<tr class="row-even"><td>WEID_DOES_NOT_EXIST</td>
<td>100104</td>
<td>WeIdentity DID不存在</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-even"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
<tr class="row-odd"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">WeIdService</span> <span class="n">weIdService</span><span class="o">;</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">weIdService</span><span class="o">.</span><span class="na">getWeIdDocumentJson</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回结果如下：
result: {
            &quot;@context&quot;: &quot;https://weidentity.webank.com/did/v1&quot;,
           &quot;authentication&quot;: [{
                        &quot;publicKey&quot;: &quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f#keys-0&quot;,
                        &quot;type&quot;: &quot;Secp256k1SignatureAuthentication2018&quot;
           }],
          &quot;created&quot;: &quot;2018-10-19T11:11:10Z&quot;,
          &quot;id&quot;: &quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;,
          &quot;publicKey&quot;: [{
                    &quot;id&quot;: &quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f#keys-0&quot;,
                    &quot;owner&quot;: &quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;,
                   &quot;publicKey&quot;: &quot;13161444623157635919577071263152435729269604287924587017945158373362984739390835280704888860812486081963832887336483721952914804189509503053687001123007342&quot;,
                  &quot;type&quot;: &quot;Secp256k1VerificationKey2018&quot;
           }],
          &quot;service&quot;: [{
                    &quot;serviceEndpoint&quot;: &quot;https://weidentity.webank.com/endpoint/8377464&quot;,
                    &quot;type&quot;: &quot;drivingCardService&quot;
         }],
       &quot;updated&quot;: &quot;2018-10-19T12:13:38Z&quot;
       }
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="getweiddocment">
<h4>4. getWeIDDocment<a class="headerlink" href="#getweiddocment" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.WeIdService.getWeIdDocument
接口定义:ResponseData&lt;WeIdDocument&gt; getWeIdDocument(String weId)
接口详细描述: 传入WeIdentity DID，检查其有效性：不能为null,并且包含did:weid:
解析WeIdentity DID的公钥地址（16进制的hash地址），根据公钥地址，去查找最后的区块数据，并且递归去查找全部数据并解析
成WeIdentity docment对象
</pre></div>
</div>
<p><strong>接口入参</strong>:  String</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>weId</td>
<td>String</td>
<td>Y</td>
<td>WeIdentity DID字符串</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:   com.webank.weid.protocol.response.ResponseData&lt;WeIdDocument&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>WeIdDocument</td>
<td>JavaBean</td>
<td>见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.WeIdDocument</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>id</td>
<td>String</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>created</td>
<td>String</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>updated</td>
<td>String</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>publicKey</td>
<td>List<span class="raw-html-m2r"><PublicKeyProperty></span></td>
<td>JavaBean</td>
<td>列出公钥集合，见下</td>
</tr>
<tr class="row-even"><td>authentication</td>
<td>List<span class="raw-html-m2r"><AuthenticationProperty></span></td>
<td>JavaBean</td>
<td>认证方集合，见下</td>
</tr>
<tr class="row-odd"><td>service</td>
<td>List<span class="raw-html-m2r"><ServiceProperty></span></td>
<td>JavaBean</td>
<td>服务端点集合，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.PublicKeyProperty</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>id</td>
<td>String</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>type</td>
<td>String</td>
<td>类型</td>
<td>默认为：Secp256k1VerificationKey2018</td>
</tr>
<tr class="row-even"><td>owner</td>
<td>String</td>
<td>拥有者WeIdentity DID</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>publicKey</td>
<td>String</td>
<td>数字公钥</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.AuthenticationProperty</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>type</td>
<td>String</td>
<td>类型</td>
<td>默认为：Secp256k1SignatureAuthentication2018</td>
</tr>
<tr class="row-odd"><td>publicKey</td>
<td>String</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.ServiceProperty</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>type</td>
<td>String</td>
<td>类型</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>serviceEndpoint</td>
<td>String</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_INVALID</td>
<td>100101</td>
<td>无效的WeIdentity DID</td>
</tr>
<tr class="row-even"><td>WEID_DOES_NOT_EXIST</td>
<td>100104</td>
<td>WeIdentity DID不存在</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-even"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
<tr class="row-odd"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">WeIdService</span> <span class="n">weIdService</span><span class="o">;</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">weIdService</span><span class="o">.</span><span class="na">getWeIdDocument</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回结果如下：
result:(com.webank.weid.protocol.base.WeIdDocument)
   id: did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f
   created: 2018-10-19T11:11:10Z
   updated: 2018-10-19T12:13:38Z
   publicKey:(java.util.ArrayList)
      [0]: com.webank.weid.protocol.base.PublicKeyProperty
         id: did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f#keys-0
         type: Secp256k1VerificationKey2018
         owner: did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f
         publicKey: 13161444623157635919577071263152435729269604287924587017945158373362984739390835280704888860812486081963832887336483721952914804189509503053687001123007342
   authentication:(java.util.ArrayList)
      [0]: com.webank.weid.protocol.base.AuthenticationProperty
         type: Secp256k1SignatureAuthentication2018
         publicKey: did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f#keys-0
   service:(java.util.ArrayList)
      [0]: com.webank.weid.protocol.base.ServiceProperty
         type: drivingCardService
         serviceEndpoint: https://weidentity.webank.com/endpoint/8377464
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="setpublickey">
<h4>5. setPublicKey<a class="headerlink" href="#setpublickey" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.WeIdService.setPublicKey
接口定义:ResponseData&lt;Boolean&gt; setPublicKey(SetPublicKeyArgs setPublicKeyArgs)
接口详细描述: 传入WeIdentity DID格式字符串，hash类型，数字公钥，
根据WeIdentity DID格式字符串提取16进制公钥hash值，数字公钥，组装公钥属性key，进行上链操作
</pre></div>
</div>
<p><strong>接口入参</strong>:   com.webank.weid.protocol.request.SetPublicKeyArgs</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>weId</td>
<td>String</td>
<td>Y</td>
<td>WeIdentity DID格式字符串</td>
<td>如：did:weid:1:0x….</td>
</tr>
<tr class="row-odd"><td>type</td>
<td>String</td>
<td>Y</td>
<td>hash套件</td>
<td>默认：Secp256k1</td>
</tr>
<tr class="row-even"><td>owner</td>
<td>String</td>
<td>N</td>
<td>所有者</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>publicKey</td>
<td>String</td>
<td>Y</td>
<td>数字公钥</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>userWeIdPrivateKey</td>
<td>WeIdPrivateKey</td>
<td>N</td>
<td>JavaBean</td>
<td>交易私钥，后期鉴权使用，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.WeIdPrivateKey</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>privateKey</td>
<td>String</td>
<td>数字私钥</td>
<td>使用十进制数字表示</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:   com.webank.weid.protocol.response.ResponseData&lt;Boolean&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>Boolean</td>
<td>是否set成功</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_INVALID</td>
<td>100101</td>
<td>无效的WeIdentity DID</td>
</tr>
<tr class="row-even"><td>WEID_PRIVATEKEY_INVALID</td>
<td>100103</td>
<td>私钥格式非法</td>
</tr>
<tr class="row-odd"><td>WEID_PRIVATEKEY_DOES_NOT_MATCH</td>
<td>100106</td>
<td>私钥不与WeIdentity DID所对应</td>
</tr>
<tr class="row-even"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
<tr class="row-even"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">WeIdService</span> <span class="n">weIdService</span><span class="o">;</span>
<span class="n">SetPublicKeyArgs</span> <span class="n">args</span><span class="o">=</span><span class="k">new</span> <span class="n">SetPublicKeyArgs</span><span class="o">();</span>
<span class="n">args</span><span class="o">.</span><span class="na">setWeId</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;Secp256k1&quot;</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setPublicKey</span><span class="o">(</span><span class="s">&quot;13161444623157635919577071263152435729269604287924587017945158373362984739390835280704888860812486081963832887336483721952914804189509503053687001123007342&quot;</span><span class="o">);</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">weIdService</span><span class="o">.</span><span class="na">setPublicKey</span><span class="o">(</span><span class="n">args</span><span class="o">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回结果如下：
result: true
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="setservice">
<h4>6. setService<a class="headerlink" href="#setservice" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.WeIdService.setService
接口定义:ResponseData&lt;Boolean&gt; setService(SetServiceArgs setServiceArgs)
接口详细描述: 传入WeIdentity DID，服务名称（type），服务端点
根据WeIdentity DID格式字符串提取16进制公钥hash值，组装公钥属性key，进行上链操作
</pre></div>
</div>
<p><strong>接口入参</strong>:   com.webank.weid.protocol.request.SetServiceArgs</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>weId</td>
<td>String</td>
<td>Y</td>
<td>WeIdentity DID格式字符串</td>
<td>如：did:weid:1:0x…..</td>
</tr>
<tr class="row-odd"><td>serviceName</td>
<td>String</td>
<td>Y</td>
<td>服务名称</td>
<td>如：drivingCardService</td>
</tr>
<tr class="row-even"><td>serviceEndpoint</td>
<td>String</td>
<td>Y</td>
<td>服务端点</td>
<td>如：”<a class="reference external" href="https://weidentity.webank.com/endpoint/8377464">https://weidentity.webank.com/endpoint/8377464</a>”</td>
</tr>
<tr class="row-odd"><td>userWeIdPrivateKey</td>
<td>WeIdPrivateKey</td>
<td>N</td>
<td>JavaBean</td>
<td>交易私钥，后期鉴权使用，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.WeIdPrivateKey</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>privateKey</td>
<td>String</td>
<td>数字私钥</td>
<td>使用十进制数字表示</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:   com.webank.weid.protocol.response.ResponseData&lt;Boolean&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>Boolean</td>
<td>是否set成功</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_INVALID</td>
<td>100101</td>
<td>无效的WeIdentity DID</td>
</tr>
<tr class="row-even"><td>WEID_PRIVATEKEY_INVALID</td>
<td>100103</td>
<td>私钥格式非法</td>
</tr>
<tr class="row-odd"><td>WEID_PRIVATEKEY_DOES_NOT_MATCH</td>
<td>100106</td>
<td>私钥不与WeIdentity DID所对应</td>
</tr>
<tr class="row-even"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
<tr class="row-even"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">WeIdService</span> <span class="n">weIdService</span><span class="o">;</span>
<span class="n">SetServiceArgs</span> <span class="n">args</span><span class="o">=</span><span class="k">new</span> <span class="n">SetServiceArgs</span><span class="o">();</span>
<span class="n">args</span><span class="o">.</span><span class="na">setWeId</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setServiceName</span><span class="o">(</span><span class="s">&quot;drivingCardService&quot;</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setServiceEndpoint</span><span class="o">(</span><span class="s">&quot;https://weidentity.webank.com/endpoint/8377464&quot;</span><span class="o">);</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">weIdService</span><span class="o">.</span><span class="na">setService</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回结果如下：
result: true
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="setauthentication">
<h4>7. setAuthentication<a class="headerlink" href="#setauthentication" title="永久链接至标题">¶</a></h4>
<p><strong>基本信息</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>接口名称:com.webank.weid.rpc.WeIdService.setAuthentication
接口定义:ResponseData&lt;Boolean&gt; setAuthentication(SetAuthenticationArgs setAuthenticationArgs)
接口详细描述: 传入WeIdentity DID格式字符串，hash类型，数字公钥，
根据WeIdentity DID格式字符串提取16进制公钥hash值，数字公钥，组装认证属性key，进行上链操作
</pre></div>
</div>
<p><strong>接口入参</strong>:   com.webank.weid.protocol.request.SetAuthenticationArgs</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">非空</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>weId</td>
<td>String</td>
<td>Y</td>
<td>WeIdentity DID格式字符串</td>
<td>如：did:weid:1:0x….</td>
</tr>
<tr class="row-odd"><td>type</td>
<td>String</td>
<td>Y</td>
<td>hash类型</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>owner</td>
<td>String</td>
<td>N</td>
<td>所属</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>publicKey</td>
<td>String</td>
<td>Y</td>
<td>数字公钥</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>userWeIdPrivateKey</td>
<td>WeIdPrivateKey</td>
<td>N</td>
<td>JavaBean</td>
<td>交易私钥，后期鉴权使用，见下</td>
</tr>
</tbody>
</table>
<p>com.webank.weid.protocol.base.WeIdPrivateKey</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>privateKey</td>
<td>String</td>
<td>数字私钥</td>
<td>使用十进制数字表示</td>
</tr>
</tbody>
</table>
<p><strong>接口返回</strong>:   com.webank.weid.protocol.response.ResponseData&lt;Boolean&gt;;</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">名称</th>
<th class="head">类型</th>
<th class="head">说明</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>errorCode</td>
<td>Integer</td>
<td>返回结果码</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>errorMessage</td>
<td>String</td>
<td>返回结果描述</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>result</td>
<td>Boolean</td>
<td>是否set成功</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p><strong>此方法返回code</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">enum</th>
<th class="head">code</th>
<th class="head">desc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SUCCESS</td>
<td>0</td>
<td>成功</td>
</tr>
<tr class="row-odd"><td>WEID_INVALID</td>
<td>100101</td>
<td>无效的WeIdentity DID</td>
</tr>
<tr class="row-even"><td>WEID_PRIVATEKEY_INVALID</td>
<td>100103</td>
<td>私钥格式非法</td>
</tr>
<tr class="row-odd"><td>WEID_PRIVATEKEY_DOES_NOT_MATCH</td>
<td>100106</td>
<td>私钥不与WeIdentity DID所对应</td>
</tr>
<tr class="row-even"><td>TRANSACTION_TIMEOUT</td>
<td>160001</td>
<td>超时</td>
</tr>
<tr class="row-odd"><td>TRANSACTION_EXECUTE_ERROR</td>
<td>160002</td>
<td>交易错误</td>
</tr>
<tr class="row-even"><td>ILLEGAL_INPUT</td>
<td>160004</td>
<td>参数为空</td>
</tr>
</tbody>
</table>
<p><strong>调用示例</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">WeIdService</span> <span class="n">weIdService</span><span class="o">;</span>
<span class="n">SetAuthenticationArgs</span> <span class="n">args</span><span class="o">=</span><span class="k">new</span> <span class="n">SetAuthenticationArgs</span><span class="o">();</span>
<span class="n">args</span><span class="o">.</span><span class="na">setWeId</span><span class="o">(</span><span class="s">&quot;did:weid:1:0x0106595955ce4713fd169bfa68e599eb99ca2e9f&quot;</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setPublicKey</span><span class="o">(</span><span class="s">&quot;13161444623157635919577071263152435729269604287924587017945158373362984739390835280704888860812486081963832887336483721952914804189509503053687001123007342&quot;</span><span class="o">);</span>
<span class="n">args</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">&quot;RsaSignatureAuthentication2018&quot;</span><span class="o">);</span>
<span class="n">ResponseData</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">weIdService</span><span class="o">.</span><span class="na">setAuthentication</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>返回结果如下：
result: true
errorCode: 0
errorMessage: success
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright (2018)Webank Co. Ltd.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>